# Создание системных диаграмм последовательностей

## Прецедент "Сделать ход"
Рисунок 3 - Диаграмма последовательности для прецедента "Сделать ход"

![Рисунок 3 - Диаграмма последовательности для прецедента "Сделать ход"](/images/lab3.p1.png)

| Операция | rollTheDice(dices: integer[]) |
|---|---|
| Ссылки | Прецеденты: Сделать ход |
| Предусловия | Наступила очередь игрока, он совершил не более 2 бросков |
| Постусловия | Создан экземпляр t класса Throw. Экземпляр t связан с текущим экземпляром класса Move. Атрибуту t.dices присвоено значение dices |

| Операция | chooseWinner(userID: integer) |
|---|---|
| Ссылки | Прецеденты: Сделать ход, Узнать свои очки |
| Предусловия | Один из игроков получил комбинацию "Генерал" первым броском или каждый из игроков сделал по 10 ходов |
| Постусловия | Атрибуту winner текущего экземпляра класса Game присвоено значение userID. Игра завершена. |

| Операция | agreeToReroll(agreement: bool) |
|---|---|
| Ссылки | Прецеденты: Сделать ход |
| Предусловия | Текущий игрок совершил 1 или 2 броска за текущий ход |
| Постусловия | Если agreement == False, выводятся все доступные для выбора экземпляры класса Combination. Иначе продолжается модификация текущего экземпляра класса Move. |

| Операция | chooseCombination(combID: integer) |
|---|---|
| Ссылки | Прецеденты: Сделать ход |
| Предусловия | Текущий игрок согласился с результатами своего броска или бросок был третим в текущем ходе |
| Постусловия | Атрибуту comb текущего экземпляра класса Move присвоено значение combID. |

| Операция | saveToTable(userID: integer, combID: integer, combCount: integer) |
|---|---|
| Ссылки | Прецеденты: Сделать ход |
| Предусловия | Текущий игрок выбрал комбинацию для текущего хода |
| Постусловия | Создан экземпляр класса TableCell со следующими аттрибутами: row - combID, column - userID, value - произведение значения combCount и значения атрибута points1 или points2_3 в зависимости от количества экзампляров класса Throw в текущем экземпляре Move |

## Прецедент "Узнать свои очки"
Рисунок 4 - Диаграмма последовательности для прецедента "Узнать свои очки"

![Рисунок 4 - Диаграмма последовательности для прецедента "Узнать свои очки"](/images/lab3.p2.png)

| Операция | getResults |
|---|---|
| Ссылки | Прецеденты: Узнать свои очки |
| Предусловия | Игра завершена |
| Постусловия | Создан экземпляр класса GameTable |

| Операция | showTable() |
|---|---|
| Ссылки | Прецеденты: Узнать свои очки |
| Предусловия | ИГроками запрошены результаты игры |
| Постусловия | В текущий экземпляр класса GameTable добавляются все экземпляры класса TableCell, созданные за текущюи игру. Для каждого игрока вычисляется сумма его очков. Игроки в результирующей таблице сортируются по сумме очков в порядке убывания. Результирующая таблица выводится игрокам. |
