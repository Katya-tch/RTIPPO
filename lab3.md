# Создание системных диаграмм последовательностей

## Прецедент "Войти в игру"
Рисунок 1 - Диаграмма последовательности для прецедента "Войти в игру"

![Рисунок 1 - Диаграмма последовательности для прецедента "Войти в игру"](/images/lab3.p3.png)

| Действие | Запросить имя |
|---|---|
| Ссылки | Прецеденты: Войти в игру |
| Предусловия | Все предыдущие игры завершены |
| Постусловия | Игроку выведен интерфейс для заполнения данных |

| Действие | Ввести имя |
|---|---|
| Ссылки | Прецеденты: Войти в игру |
| Предусловия | Текущий игрок еще не зарегестрировался в Игре |
| Постусловия | Текущему игроку присвоено введенное имя |

| Действие | Сохранить игрока |
|---|---|
| Ссылки | Прецеденты: Войти в игру |
| Предусловия | Текущий игрок ввел свои данные |
| Постусловия | В текущей игре сохранен новый игрок |

| Действие | Запросить ввод следующего игрока |
|---|---|
| Ссылки | Прецеденты: Войти в игру |
| Предусловия | Текущий игрок сохранен |
| Постусловия | Игроку выведен интерфейс для разрешения на ввод следующего игрока |

| Действие | Продолжить/закончить ввод игроков |
|---|---|
| Ссылки | Прецеденты: Войти в игру |
| Предусловия | Запрошено разрешение на воод следующего игрока |
| Постусловия | В зависимости от выбора игрока Игра продолжает или завершает процесс ввода новых игроков |

| Действие | Закончить ввод имен игроков |
|---|---|
| Ссылки | Прецеденты: Войти в игру |
| Предусловия | Все игроки сохранены |
| Постусловия | Игра переходит к прецеденту "Бросить жребий" |

## Прецедент "Бросить жребий"
Рисунок 2 - Диаграмма последовательности для прецедента "Бросить жребий"

![Рисунок 2 - Диаграмма последовательности для прецедента "Бросить жребий"](/images/lab3.p4.png)

| Действие | Бросить кубик |
|---|---|
| Ссылки | Прецеденты: Бросить жребий |
| Предусловия | Все игроки вошли в игру |
| Постусловия | Игроком получено его значение при жеребьевке |

| Действие | Присвоить значение игроку |
|---|---|
| Ссылки | Прецеденты: Бросить жребий |
| Предусловия | Текущий игрок бросил жребий |
| Постусловия | Игроку назначено полученное им значение |

| Действие | Перейти к следующему игроку |
|---|---|
| Ссылки | Прецеденты: Бросить жребий |
| Предусловия | Для текущего игрока сохранено его значение |
| Постусловия | Игра готова повторить все предыдущие операции для следующего игрока |

| Действие | Выбрать первого ходящего |
|---|---|
| Ссылки | Прецеденты: Бросить жребий |
| Предусловия | Все игроки получили свои значения при жеребьевке |
| Постусловия | Игрок с наименьшим значением назначен первым ходящим |

| Действие | Распределить ходы |
|---|---|
| Ссылки | Прецеденты: Бросить жребий |
| Предусловия | Выбран первый игрок |
| Постусловия | Между всеми остальными игроками распределены очередности хода |

## Прецедент "Сделать ход"
Рисунок 3 - Диаграмма последовательности для прецедента "Сделать ход"

![Рисунок 3 - Диаграмма последовательности для прецедента "Сделать ход"](/images/lab3.p1.png)

| Действие | Бросить кубики |
|---|---|
| Ссылки | Прецеденты: Сделать ход |
| Предусловия | Наступила очередь игрока, он совершил не более 2 бросков |
| Постусловия | В Игре записаны выпавшие значения брошенных кубиков |

| Действие | Выбрать победителя |
|---|---|
| Ссылки | Прецеденты: Сделать ход, Узнать свои очки |
| Предусловия | Один из игроков получил комбинацию "Большой Генерал" или каждый из игроков сделал по 10 ходов |
| Постусловия | Игрок с наибольшим каличеством очков или с комбинацией "Большой Генерал" назначен победителем. Игра завершена. |

| Действие | Согласиться/отказаться перебросить |
|---|---|
| Ссылки | Прецеденты: Сделать ход |
| Предусловия | Текущий игрок совершил 1 или 2 броска за текущий ход |
| Постусловия | Игрок снова делает бросок или переходит к выбору комбинации |

| Действие | Выбор комбинации |
|---|---|
| Ссылки | Прецеденты: Сделать ход |
| Предусловия | Текущий игрок согласился с результатами своего броска или бросок был третим в текущем ходе |
| Постусловия | В текущем ходе выбрана не более чем одна комбинация для начисления очков |

| Действие | Записать результат хода |
|---|---|
| Ссылки | Прецеденты: Сделать ход |
| Предусловия | Текущий игрок выбрал комбинацию для текущего хода |
| Постусловия | В таблице результатов заполнена ячейка для текущего игрока и выбранной комбинации с посчитанной суммой очков |

## Прецедент "Узнать свои очки"
Рисунок 4 - Диаграмма последовательности для прецедента "Узнать свои очки"

![Рисунок 4 - Диаграмма последовательности для прецедента "Узнать свои очки"](/images/lab3.p2.png)

| Действие | Запросить результаты |
|---|---|
| Ссылки | Прецеденты: Узнать свои очки |
| Предусловия | Игра завершена |
| Постусловия | Игра начинает подсчет результатов игры |

| Действие | Показать результирующую таблицу |
|---|---|
| Ссылки | Прецеденты: Узнать свои очки |
| Предусловия | Игроками запрошены результаты игры |
| Постусловия | Для каждого игрока вычисляется сумма его очков. Игроки в результирующей таблице сортируются по сумме очков в порядке убывания. Результирующая таблица выводится игрокам. |
